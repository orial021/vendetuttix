
{% extends 'base.html' %}

{% block title %}Vendetuttix{% endblock %}

{% block content %}
<main>
<section class="bg-gray-200 p-4 py-12 md:py-24">
  <div class="container mx-auto grid md:grid-cols-2 gap-20">
    <div style="display: flex; flex-direction: column; align-items: flex-start;">
      <div id="banner-container1" style="margin-top: 100px;"></div>
    </div>
    <div id="banner-container2"></div>
  </div>
</section>


<section class="py-5 md:py-12 flex justify-center items-center bg-light">
  <div class="container flex flex-col items-center min-h-[100vh]">
    <p class="text-4xl md:text-6xl font-bold mb-5" style="font-size: 5rem;">Productos destacados</p>
    <div class="product-columns" id="product-list">
      {% for product in products %}
        {% from 'components/product.html' import productComponent %}
        {{ productComponent({
          "href":  "/home/productByCategory/" ~ product.id,
          "image_url": product.imagen_url,
          "title": product.name,
          "description": product.short_description,
          "price": product.price
        }) }}
      {% endfor %}
    </div>
  </div>
</section>


    


          <script>
            async function fetchAndDisplayBanners() {
              try {
                const response = await fetch("/banner/show/1");
                const data = await response.json();
            
                // Banner 1 (título y contenido)
                const bannerContainer1 = document.getElementById("banner-container1");
                const bannerHtml1 = `
                  <h1 class="text-5xl md:text-5xl font-bold mb-4">${data.title}</h1>
                  <p class="text-4xl text-muted-foreground mb-8">${data.content}</p>
                `;
                bannerContainer1.innerHTML = bannerHtml1;
            
                // Banner 2 (imagen)
                const bannerContainer2 = document.getElementById("banner-container2");
                const bannerHtml2 = `
                  <img
                    src="${data.image_url}"
                    alt="${data.title}"
                    width="800"
                    height="600"
                    class="rounded-lg object-cover"
                    style="aspect-ratio: 800 / 600; object-fit: cover;"
                  >
                `;
                bannerContainer2.innerHTML = bannerHtml2;
              } catch (error) {
                console.error("Error al obtener los banners:", error);
              }
            }
            
            // Llama a la función para mostrar los banners
            fetchAndDisplayBanners();
            

            
                </script>
          {% endblock %}




















 